\documentclass[dvipdfmx]{jsbook}

% Language setting
% Replace `english' with e.g. `spanish' to change the document language

% Set page size and margins
% Replace `letterpaper' with `a4paper' for UK/EU standard size
\usepackage[letterpaper,top=2cm,bottom=2cm,left=3cm,right=3cm,marginparwidth=1.75cm]{geometry}

% Useful packages
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage[colorlinks=true, allcolors=blue]{hyperref}
\usepackage{tikz-cd}
\usepackage{amsthm}
\usepackage{mathrsfs}
\usepackage{comment}
\usepackage{hyperref}
\usepackage{pxjahyper}
\usepackage{bm}
\theoremstyle{plain}

\newtheorem{thm}{定理}[chapter]
\newtheorem{Def}[thm]{定義}
\newtheorem{Notation}[thm]{記法}
\newtheorem{Prop}[thm]{命題}
\newtheorem{caution}[thm]{注意}
\newtheorem{example}[thm]{実例}
\renewcommand{\proofname}{\textbf{証明}}
\usepackage{makeidx}
\usepackage{comment}
\usepackage{listings}
\lstset{
	%プログラム言語(複数の言語に対応，C,C++も可)
 	language = haskell,
 	%背景色と透過度
 	backgroundcolor={\color[gray]{.90}},
 	%枠外に行った時の自動改行
 	breaklines = true,
 	%自動開業後のインデント量(デフォルトでは20[pt])	
 	breakindent = 10pt,
 	%標準の書体
 	basicstyle = \ttfamily\normalsize,
 	%basicstyle = {\small}
 	%コメントの書体
 	commentstyle = {\itshape \color[cmyk]{1,0.4,1,0}},
 	%関数名等の色の設定
 	classoffset = 0,
 	%キーワード(int, ifなど)の書体
 	keywordstyle = {\bfseries \color[cmyk]{0,1,0,0}},
 	%""で囲まれたなどの"文字"の書体
 	stringstyle = {\ttfamily \color[rgb]{0,0,1}},
 	%枠 "t"は上に線を記載, "T"は上に二重線を記載
	%他オプション：leftline，topline，bottomline，lines，single，shadowbox
 	frame = TBrl,
 	%frameまでの間隔(行番号とプログラムの間)
 	framesep = 5pt,
 	%行番号の位置
 	numbers = left,
	%行番号の間隔
 	stepnumber = 1,
	%右マージン
 	%xrightmargin=0zw,
 	%左マージン
	%xleftmargin=3zw,
	%行番号の書体
 	numberstyle = \tiny,
	%タブの大きさ
 	tabsize = 4,
 	%キャプションの場所("tb"ならば上下両方に記載)
 	captionpos = t
}

\makeindex
\title{圏論原論I}
\author{Sexytant}
\begin{document}
\setcounter{tocdepth}{2}
\maketitle
\tableofcontents
\newpage
\part{準備}
\chapter{集合}
\input{ch1/main}

\chapter{代数系}
\input{ch2/main}

\chapter{Haskellの基礎}
\input{ch3/main}

\part{圏論の諸概念}
\chapter{圏}
\input{ch4/main}
\chapter{関手}
\section{関手}
\begin{Def}
圏$\mathscr{A}$の対象$\mathrm{Obj}(\mathscr{A})$から圏$\mathscr{B}$の対象$\mathrm{Obj}(\mathscr{B})$への関数を
{\bf $\mathscr{A}$から$\mathscr{B}$への対象関数}という.
\end{Def}
\begin{Def}
{\bf 射関数}
\end{Def}
\begin{Def}
圏$\mathscr{A},\mathscr{B}$に対する対称関数と射関数の組を{\bf $\mathscr{A}$から$\mathscr{B}$への関手}という.
\end{Def}
\begin{example}
順序を保存する写像
\end{example}
\begin{example}
$n$次ホモロジー関手
\end{example}
\begin{example}
\end{example}
\begin{example}
\end{example}
\subsection{反変関手}
\begin{Def}
圏$A^{\mathrm{op}}$から圏$B$への関手
を{\bf 圏$A$から圏$B$への反変関手}という.
\end{Def}
\begin{example}
\end{example}
\begin{Notation}
\end{Notation}
\begin{caution}
\end{caution}
\subsection{定数関手}
\begin{Def}
圏$\mathscr{A}$の任意の対象$A$を圏$\mathscr{B}$のただ一つの対象$B_0$に写し,
$\mathscr{A}$の任意の射$f$を圏$\mathscr{B}$の恒等射に写す関手を
{\bf 定数関手}\index{ていすうかんしゅ@定数関手}という
\end{Def}

\subsection{忠実関手と充満関手}
\begin{Def}
圏$\mathscr{A}$
から圏$\mathscr{B}$への関手$F$に関して,
集合$\{(A_1,A_2)\mid A_1,A_2\in\mathrm{Obj}(\mathscr{A})\}$
から
集合$\{(F(A_1),F(A_2))\mid\mathrm{Obj}(\mathscr{A}))\}$
への写像が単射となっているとき,
{\bf 関手$F$は忠実}であるという.
\end{Def}
\begin{Def}
圏$\mathscr{A}$から圏$\mathscr{B}$への関手$F$に関して,
集合$\{(A_1,A_2)\mid A_1,A_2\in\mathrm{Obj}(\mathscr{A})\}$
から
集合$\{(F(A_1),F(A_2))\mid\mathrm{Obj}(\mathscr{A}))\}$
への写像が全射となっているとき,
{\bf 関手$F$は充満}であるという.
\end{Def}
\begin{Def}圏$\mathscr{A}$から圏$\mathscr{B}$への関手$F$が忠実かつ充満であるとき
{\bf 関手$F$は充満忠実である}という
\end{Def}
\begin{Def}
圏$\mathscr{A}$が圏$\mathscr{A}$の部分圏であり, 関手$F:\mathscr{A}\rightarrow\mathscr{B}$が充満であるとき,
{\bf 圏$\mathscr{A}$は圏 $\mathscr{B}$の充満部分圏である}という.
\end{Def}
\begin{example}
...充満忠実である.
\end{example}
\begin{example}
...忠実だが充満でない
\end{example}
\begin{example}
充満だが忠実でない
\end{example}
\begin{example}
複素数...

...

...忠実だが充満でない. （例1.30)
\end{example}
\subsection{埋め込み関手}
\subsection{忘却関手}
\section{Haskellの型構築子と関手}
\subsubsection{List関手}
Haskellにおける型構築子\verb|[]|は任意の型\verb|A|に対して型\verb|[A]|を対応させる.
これは, HaskからHaskへの対称関数とみなせる.
型\verb|A|と型\verb|B|および関数\verb|f::A->B|が与えられとき\verb|map f::[A]->[B]|が決定される.

...

型構築子\verb|[]|は{\bf List関手}\index{りすとかんしゅ@List関手}と呼ばれる
\subsubsection{Maybe関手}
Haskellにおける型構築子\verb|Maybe|は...

...

型構築子\verb|Maybe|は{\bf Maybe関手}\index{めいびーかんしゅ@Maybe関手}
と呼ばれる.
\subsubsection{Tree関手}
一般に木構造を生成する型構築子は関手にできる. これを{\bf Tree関手}と呼ぶ.

\lstinputlisting{../hssrc/Tree.hs}
\section{２変数の関手}
{\bf Hom関手}
\lstinputlisting{../hssrc/homfunctors.hs}
\section{型クラスとHaskの部分圏}
{\bf ソート関手}
\lstinputlisting{../hssrc/sort.hs}

\chapter{自然変換}
\section{自然変換}
\begin{Def}
圏$\mathscr{A}$から圏$\mathscr{B}$への関手$F,G$について,
\begin{enumerate}
\item $\mathscr{A}$の任意の対象$A$ 
に対して
$\mathscr{B}$の射$\alpha_A:FA\rightarrow GA$
が存在し
\item $\mathscr{A}$の任意の射$f:A_1\rightarrow A_2$
が
\[
\alpha_{A_2}\circ Ff
=Gf\circ\alpha_{A_1}
\]
を満たすとき
\end{enumerate}に対して
{\bf 集合$\alpha=\{\alpha_A\mid A\in\mathrm{Obj}(\mathscr{A})\}$は関手$F$から関手$G$への自然変換\index{しぜんへんかん@自然変換}である}という.
\end{Def}
\begin{Notation}
関手$F$から関手$G$への自然変換$\alpha$を$\alpha:F\rightarrow G$で表す.
\end{Notation}
\begin{Notation}
関手$F$から関手$G$への自然変換$\alpha$を次の図表で表す.
\end{Notation}
\section{Haskにおける自然変換}
\subsection{concat}
\subsection{List関手からMaybe関手への自然変換safehead}
\subsection{concatとsafeheadの垂直合成}
\subsection{二分木からリストへのflatten関数}

\section{Haskにおける定数関手}
\subsection{length関数}

\chapter{関手圏}
\section{関手圏}
\begin{Prop}
...は圏である.
\end{Prop}
\begin{Def}
{\bf $\mathscr{A}$から$\mathscr{B}$への関手圏}という.
\end{Def}
\begin{Notation}
$\mathscr{A}$から$\mathscr{B}$への関手圏を$[\mathscr{A},\mathscr{B}]$
で表す\end{Notation}
\begin{Def}
関手圏における同型射を自然同型という.
\bf{自然同型}
\end{Def}
\begin{Prop}
自然変換...が自然同型であること,

...が同型者であることは同値である.
\end{Prop}
\chapter{圏同値}
\section{圏同値}
\begin{Def}
\bf{圏同値}
\end{Def}

\section{Haskにおける自然同型}
\subsection{mirror関数}
Tree関手からTree関手への自然同型
\subsection{Maybe関手とEither()関手の間の自然同型}
\section{まとめ}
aa
\printindex
\end{document}
